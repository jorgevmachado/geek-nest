RUN:=npm

# STYLE #
ERROR=\x1b[41m
SUCCESS=\x1b[42m
RESET=\x1b[0m
WARN=\x1b[30;43m

# ------------------------------------------------------------------------------------ #
setup:
	make clean-all
	make install

clean-all:
	@echo ------------------------------------------------------------------------------;
	@printf "${WARN} CLEANING ${RESET}: node_modules\n";
	@echo ;
	@rm -rf node_modules
	@echo ------------------------------------------------------------------------------;
	@printf "${SUCCESS} SUCCESS ${RESET}: clean node_modules\n";
	@echo ------------------------------------------------------------------------------;

install:
	@echo ------------------------------------------------------------------------------;
	@printf "${WARN} INSTALLING ${RESET}: geek-nest\n";
	@echo ;
	@$(RUN) install
	@echo ------------------------------------------------------------------------------;
	@printf "${SUCCESS} SUCCESS ${RESET}: geek-nest installed\n";
	@echo ------------------------------------------------------------------------------;

lint:
	@echo ------------------------------------------------------------------------------;
	@printf "${WARN} LINTING ${RESET}: geek-nest\n";
	@echo ;
	@$(RUN) run lint
	@echo ------------------------------------------------------------------------------;
	@printf "${SUCCESS} SUCCESS ${RESET}: geek-nest linted\n";
	@echo ------------------------------------------------------------------------------;

unit-test:
	@echo ------------------------------------------------------------------------------;
	@printf "${WARN} TESTING ${RESET}: geek-nest\n";
	@echo ;
	@$(RUN) test
	@echo ------------------------------------------------------------------------------;
	@printf "${SUCCESS} SUCCESS ${RESET}: geek-nest tested\n";
	@echo ------------------------------------------------------------------------------;

unit-test-cov:
	@echo ------------------------------------------------------------------------------;
	@printf "${WARN} TESTING ${RESET}: geek-nest\n";
	@echo ;
	@$(RUN) run test:cov
	@echo ------------------------------------------------------------------------------;
	@printf "${SUCCESS} SUCCESS ${RESET}: geek-nest tested\n";
	@echo ------------------------------------------------------------------------------;

start:
	@echo ------------------------------------------------------------------------------;
	@printf "${WARN} STARTING ${RESET}: geek-nest\n";
	@echo ;
	@$(RUN) run start:dev
	@echo ------------------------------------------------------------------------------;
	@printf "${SUCCESS} SUCCESS ${RESET}: geek-nest started\n";
	@echo ------------------------------------------------------------------------------;